{% extends 'base.html' %}

{% block head %}
<h1 class="p-4 m-6 text-[55px] uppercase text-center text-indigo-400" id="websiteTitle">View Table</h1>
{% endblock %}

{% block body %}
<div class="m-2 p-12 flex flex-row items-center text-center justify-evenly gap-2">
    <div class="h-[100px] w-[300px] ">
        <a href="/"
            class="cursor-pointer block scale-100 bg-transparent hover:bg-[#E18A77] text-white font-semibold hover:text-white uppercase text-lg mx-auto py-2 px-16 border border-[#E18A77] hover:border-transparent rounded-lg focus:scale-105 transition-all duration-300">Home
            Page</a>
    </div>
    <div class="h-[100px] w-[300px] ">
        <a href="/addcar"
            class="cursor-pointer block scale-100 bg-transparent hover:bg-[#E18A77] text-white font-semibold hover:text-white uppercase text-lg mx-auto py-2 px-16 border border-[#E18A77] hover:border-transparent rounded-lg focus:scale-105 transition-all duration-300">Add Car</a>
    </div>
    <div class="h-[100px] w-[300px] ">
        <a href="/viewgraph"
            class="cursor-pointer block scale-100 bg-transparent hover:bg-[#E18A77] text-white font-semibold hover:text-white uppercase text-lg mx-auto py-2 px-16 border border-[#E18A77] hover:border-transparent rounded-lg focus:scale-105 transition-all duration-300">View
            Car (Graph)</a>
    </div>
    <div class="h-[100px] w-[300px] ">
        <a href="/uploadcsv"
            class="cursor-pointer block scale-100 bg-transparent hover:bg-[#E18A77] text-white font-semibold hover:text-white uppercase text-lg mx-auto py-2 px-16 border border-[#E18A77] hover:border-transparent rounded-lg focus:scale-105 transition-all duration-300">Upload
            CSV</a>
    </div>
</div>

<hr>

{% if cars|length < 1 %}
      <div class="  flex items-center bg-blue-500 text-white text-sm font-bold p-5 m-12" role="alert">
        <svg class="fill-current w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z"/></svg>
        <p>The database is empty. No cars to show in table</p>
      </div>
    {% else %}
    <!-- <table>
        <tr>
            <th>Name</th>
            <th>Price</th>
            <th>Make</th>
            <th>Model</th>
        </tr>
        {% for car in cars %}
        <tr>
            <td>{{ car.content['Name']}}</td>
            <td>{{ car.content['Price']}}</td>
            <td>{{ car.content['Make']}}</td>
            <td>{{ car.content['Model']}}</td>

           <td class="button"><a href="">Update</a></td>
        <td class="button"><a href="">Delete</a></td>
    </tr>
    {% endfor %}
    </table> -->

    <div class="flex flex-col p-4 overflow-hidden items-center text-center">
        <div class=" ">
            <div class="py-2 inline-block w-[100%] ">
                <div class="">
                    <h1 class="float-left mb-12 text-2xl">Total Cars in Database = <span class="font-bold italic">{{ cars|length}}</span></h1>
                    <table class=" w-[100%]  border-2 border-white ">
                        <thead class="bg-[#3A4665] border-b  ">
                            <tr class="">
                                <th scope="col" class="text-sm font-medium text-white p-2   border-r text-center">
                                    Car Name
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    Price (in â‚¬)
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    Make
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    Model
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r text-center">
                                    Engine
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    Fuel
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    Odometer
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    Transmission
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r text-center">
                                    Body
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    Year
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    County
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    Doors
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r text-center">
                                    Color
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    Owners
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    Tax-Expiry
                                </th>
                                <th scope="col" class="text-sm font-medium text-white p-2  border-r  text-center">
                                    NCT-Expiry
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for car in cars %}

                            <tr class="bg-transparent border-b transition duration-300 ease-in-out hover:bg-red-900/40 ">
                                <td class=" whitespace-pre-wrap text-sm font-light text-white p-2 border-r ">{{
                                    car.content['Name']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r ">{{
                                    car.content['Price']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r ">{{
                                    car.content['Make']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r ">{{
                                    car.content['Model']}}</td>
                                <td class=" whitespace-pre-wrap text-sm font-light text-white p-2 border-r ">{{
                                    car.content['Engine']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r ">{{
                                    car.content['Fuel']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r ">{{
                                    car.content['Odometer']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r  ">{{
                                    car.content['Transmission']}}</td>

                                <td class=" whitespace-pre-wrap text-sm font-light text-white p-2 border-r ">{{
                                    car.content['Body']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r ">{{
                                    car.content['Year']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r ">{{
                                    car.content['County']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r  ">{{
                                    car.content['Doors']}}</td>

                                <td class=" whitespace-pre-wrap text-sm font-light text-white p-2 border-r ">{{
                                    car.content['Color']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r ">{{
                                    car.content['Owners']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r ">{{
                                    car.content['Tax-Expiry']}}</td>
                                <td class="text-sm text-white p-2 font-light  whitespace-pre-wrap border-r  ">{{
                                    car.content['NCT-Expiry']}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    {% endblock %}